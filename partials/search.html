<div class="container" ng-show="isLoggedIn">
	<div class="row">

	  	<!-- SEARCH BAR -->
		<form class="col s12">
		  <div class="row">
		    <div class="input-field col s12">
		      <input placeholder="Search a Grateful Dead song" id="song_search" type="text" ng-model="songSearch.song"  ng-keyup="$event.keyCode == 13 && searchSong()">
		    </div>
		    <a class="waves-effect waves-light btn blue darken-4" ng-click="searchSong()">Search</a>
		  </div>
		</form>
		<!-- END SEARCH -->

	</div>
	<div class="row">
		<ul class="collection" id="targetCollection" ng-show="showResults">

			<!-- NO RESULTS STAYS HIDDEN UNLESS THE SEARCH FINDS NOTHING -->
			<div ng-show="noResults"><h4>No Results Found</h4></div>

			<!-- FOR EACH SONG THAT COMES BACK FROM SPOTIFY SEARCH -->
			<div ng-repeat="item in searchedSongs.items track by $index">

				<!-- BEGINNING OF FULL SONG LIST ITEM -->
				<li id="song-{{item.id}}">

					<!-- SPOTIFY PLAYER EMBED -->
			    	<iframe ng-src="{{'https://open.spotify.com/embed?uri=spotify:track:' + item.id | trustAsResourceUrl }}" width="100%" height="80" frameborder="0" allowtransparency="true"></iframe>

					<!-- BEGINNING OF FAVORITE BUTTONS -->
			    	<div ng-show="songIDsFromFB.indexOf(searchedSongs.items[$index].id) != -1">
			    		
			    		<!-- FOR EACH SONG IN FIREBASE -->
						<div ng-repeat="song in dataFromFB">
					    	
					    	<!-- FAVORITE BUTTON FOR SONGS IN FIREBASE -->
						    <a ng-click="addToFavorites(searchedSongs.items[$index])" ng-show="{{song.songID === item.id}}">
						    	<i id="fav--{{song.songID}}" class="small favs right material-icons">{{song.isFavorited ? 'favorite' : 'favorite_border'}}</i>
						    </a>
					    </div>
				    </div>

					<!-- FAVORITE BUTTON FOR SONGS NOT FOUND IN FIREBASE -->
					<div ng-show="songIDsFromFB.indexOf(searchedSongs.items[$index].id) == -1">
					    <a ng-click="addToFavorites(searchedSongs.items[$index])">
					    	<i id="fav--{{song.songID}}" class="small favs right material-icons">favorite_border</i>
					    </a>
				    </div>

					<!-- END OF FAVORITE BUTTONS -->

					<!-- RATING STARS -->
				    <div id="rateYo--{{$index}}" class="right ratings"></div>

				    <!-- UPVOTE/DOWNVOTE -->
				    <div id="upvote--${{$index}}">
				    	<a ng-click="downvote(item)">
							<i id="downvote--{{song.songID}}" class="small  right material-icons">arrow_drop_down</i>
						</a>
						<div ng-repeat="vote in voteCounts">
							<h5 ng-show="{{vote.songID === item.id}}" class="right voteCount">{{vote.vote}}</h5>
						</div>
						<h5 ng-show="{{voteSongIDs.indexOf(item.id) == -1}}" class="right voteCount">{{isVoted ? '' : 0}}</h5>
				    	<a ng-click="upvote(item)">
							<i id="upvote--{{song.songID}}" class="small right material-icons">arrow_drop_up</i>
						</a>
				    </div>

					<!-- COLLAPSIBLE COMMENT SECTION -->
				    <ul class="collapsible" data-collapsible="accordion">
					    <li>
					      <div class="collapsible-header">Comments</div>
					      <div class="collapsible-body">
							<div class="row">
							    <form class="col s12">
							      <div class="row">
							        <div class="input-field col s6">
							          <input placeholder="Your Name" id="first_name" type="text">
							        </div>
							      </div>
							      <div class="row">
							        <div class="col s12">
							          <div class="input-field col s12">
							            <textarea  placeholder="Your Comment" id="textarea1" class="materialize-textarea"></textarea>
							          </div>
							        </div>
							      </div>
							      <div class="row">
									<a id="submit-{{item.id}}" class="waves-effect waves-light btn blue darken-2" ng-click="submitUserSongData()">Submit</a>
							      </div>
							    </form>
						    </div>
					      </div>
					    </li>
					</ul>
					<!-- END OF COMMENT SECTION -->

			    </li>
			    <!-- END OF FULL SONG LIST ITEM -->
			</div>
		</ul>
	</div>
</div>
